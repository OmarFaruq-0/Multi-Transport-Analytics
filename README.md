# Multi-Transport-Analytics
**Project Overview**

This project focuses on building an integrated data analytics and AI-driven dashboard for a multi-transport network encompassing flights, buses, and trains. The goal is to transform raw operational, financial, and customer data into actionable insights that enhance 

profitability, efficiency, and decision-making.

The system analyzes sales, operations, costs, and customer behavior using tools like SQL, Excel, and Power BI, ensuring seamless data integrity across platforms. Key objectives include tracking revenue growth, identifying underperforming routes, optimizing resource 

utilization, forecasting future trends, and improving passenger satisfaction.

The project is structured into two major analytical pillars:

A. Sales & Revenue Analytics: Evaluates total and route-level revenues, profit margins, and trends over time.

B. Operational Efficiency: Measures trip delays, costs, occupancy rates, and maintenance efficiency to reduce losses.


# Database & Schema #
```sql
DROP TABLE IF EXISTS passengers_information;	
CREATE TABLE passengers_information (passenger_id VARCHAR(15) PRIMARY KEY,
                                     full_name VARCHAR(20),
									 gender VARCHAR(10),
									 age INT,
									 nationality VARCHAR(15),
									 contact_number VARCHAR(17) ,
									 email VARCHAR(40),
									 sign_up DATE,
									 passenger_type VARCHAR(17) 
									 );
									 
DROP TABLE IF EXISTS bookings_information;										 
CREATE TABLE bookings_information (
                                   booking_id VARCHAR(15) PRIMARY KEY,
                                   passenger_id VARCHAR(15),
								   trip_id VARCHAR(12),
								   booking_date DATE,
								   seat_type VARCHAR(13),
								   payment_method VARCHAR(20),
								   total_fare_usd INT,
								   booking_status VARCHAR(18)
								   );

DROP TABLE IF EXISTS payments;									   
CREATE TABLE payments (paymet_id VARCHAR(15) PRIMARY KEY,
                       booking_id VARCHAR(15),
					   payment_date VARCHAR(15),
					   amount_usd DECIMAL(10,2),
					   payment_status VARCHAR(17),
					   payment_method VARCHAR(17)
					   );
					   
DROP TABLE IF EXISTS transport_types;	
CREATE TABLE transport_types (transport_id VARCHAR(10) PRIMARY KEY,
                              mode VARCHAR(10),
							  description VARCHAR(40)
  						      );
CREATE TABLE flight(trip_id VARCHAR(12),
                    code VARCHAR(15),
					airline VARCHAR(16),
					transport_mdoe VARCHAR(17),
					origiin_city VARCHAR(20),
					destination_city VARCHAR(20),
					departure_period VARCHAR(16),
					arrval_period VARCHAR(20),
					stop VARCHAR(15),
					travel_class VARCHAR(15),
					duration DECIMAL(4,2),
					dayes_left INT,
					ticket_praic)								
DROP TABLE IF EXISTS trips_all_modes;								
CREATE TABLE trips_all_modes (
                              trip_id VARCHAR(12) PRIMARY KEY,
                              code VARCHAR(15),
							  airline VARCHAR(16),
							  transport_mode VARCHAR(17),
							  origiin_city VARCHAR(20),
							  destination_city VARCHAR(20),
							  departure_period VARCHAR(20),
							  arrival_period VARCHAR(20),
							  stops VARCHAR(15),
							  travel_class VARCHAR(15),
							  duration DECIMAL(4,2),
							  days_left INT,
							  price_usd INT,
							  transport_id VARCHAR(10)
							  );
```

# Tables' Name #
**passenger_information**

**booking_information**

**payments**

**transport_types**

**tirps_all_modes**
```sql
SELECT * FROM passengers_information;
SELECT * FROM bookings_information;
SELECT * FROM payments;
SELECT * FROM transport_types;
SELECT * FROM trips_all_modes;
```


# Foreign keyes & Constraints #
```sql
ALTER TABLE bookings_information
ADD CONSTRAINT fk_passengers_information
FOREIGN KEY (passenger_id)
REFERENCES passengers_information(passenger_id);


ALTER TABLE bookings_information
ADD CONSTRAINT fk_trips_all_modes
FOREIGN KEY (trip_id)
REFERENCES trips_all_modes(trip_id);

ALTER TABLE payments
ADD CONSTRAINT fk_bookings_infromation
FOREIGN KEY (booking_id)
REFERENCES bookings_information(booking_id);


ALTER TABLE trips_all_modes
ADD CONSTRAINT fk_transport_types
FOREIGN KEY (transport_id)
REFERENCES transport_types (transport_id);
```


# Sales & Revenue Analytics #

**Task 1. What is the total revenue generated by each transport type (flight, bus, train)?**
```sql
SELECT  DISTINCT  transport_id, transport_mode, SUM(price_usd)FROM trips_all_modes
GROUP BY transport_id, transport_mode
;
```

**Task 2. How has monthly revenue changed over the past 12 months for each mode?**
```sql
SELECT 
    DATE_TRUNC('month', BI.booking_date) AS month,
    TA.transport_mode,
    SUM(BI.total_fare_usd) AS monthly_revenue
FROM trips_all_modes TA 
JOIN bookings_information BI
ON TA.trip_id = BI.trip_id
WHERE BI.booking_date >= CURRENT_DATE - INTERVAL '12 months' and
BI.booking_status ='Confirmed'
GROUP BY month, transport_mode;
```

**Task 3. What are the top 5 routes generating the highest profit margins?**
```sql
SELECT  transport_id, transport_mode, origiin_city, destination_city, SUM(price_usd) AS total_revenue 
FROM trips_all_modes TA 
JOIN bookings_information BI
ON TA.trip_id = BI.trip_id
WHERE BI.booking_date >= CURRENT_DATE - INTERVAL '12 months' and
BI.booking_status ='Confirmed' 
GROUP BY transport_id, transport_mode, origiin_city, destination_city
ORDER BY total_revenue DESC
LIMIT 5;
```

**Task 4. Identify routes or transport types with declining revenue over time.**
```sql
SELECT 
EXTRACT(YEAR FROM BI.booking_date) as year_only, transport_id, transport_mode, origiin_city, destination_city,
SUM(price_usd) AS total_revenue 
FROM trips_all_modes TA 
JOIN bookings_information BI
ON TA.trip_id = BI.trip_id
WHERE BI.booking_date >= CURRENT_DATE - INTERVAL '12 months' and
BI.booking_status ='Confirmed' 
GROUP BY EXTRACT(YEAR FROM BI.booking_date), transport_id, transport_mode, origiin_city, destination_city
ORDER BY total_revenue ASC
LIMIT 100;
```

**Task 5(i). Calculate average revenue per passenger**
```sql
SELECT PI.passenger_id,
AVG(price_usd) AS avarage_revenue_per_passenger
FROM passengers_information PI
JOIN 
bookings_information BI
ON 
PI.passenger_id= BI.passenger_id
JOIN
trips_all_modes TM
ON 
BI.trip_id = TM.trip_id
WHERE BI.booking_status = 'Confirmed'
GROUP BY PI.passenger_id
ORDER BY avarage_revenue_per_passenger ASC;
```

**Task 5(ii). Calculate compare across transport modes.**
```sql
SELECT  TM.transport_mode,
AVG(price_usd) AS average_revenue_per_passenger
FROM 
bookings_information BI

JOIN
trips_all_modes TM
ON 
BI.trip_id = TM.trip_id
WHERE BI.booking_status = 'Confirmed'
GROUP BY  TM.transport_mode
ORDER BY average_revenue_per_passenger ASC ;
```


# Operational Efficiency #

**Task 6. Which transport type has the highest average  delay or downtime?**
```sql
SELECT transport_mode, 
AVG(days_left) as average_delay_days FROM trips_all_modes
GROUP BY transport_mode
ORDER BY average_delay_days DESC;
```

**Task 7. What is the average cost per trip for each route and how does it vary?**
```sql
SELECT 
    origiin_city,
    destination_city,
    transport_mode,
    AVG(price_usd) AS avg_cost_per_trip
FROM trips_all_modes
GROUP BY 
    origiin_city,
    destination_city,
    transport_mode
ORDER BY 
    avg_cost_per_trip DESC;
```

**Task 8. Identify routes with lowest occupancy rate or passenger utilization.**
```sql
SELECT
TR.origiin_city, 
TR.destination_city,
TR.transport_mode,
SUM (CASE WHEN booking_status ='Confrimed' THEN 1 ELSE 0 END) * 0.1 / COUNT(booking_status)
AS occupancy_percentage
FROM bookings_information BI
FULL JOIN
trips_all_modes TR
ON
BI.trip_id = TR.trip_id
GROUP BY TR.origiin_city, TR.destination_city, TR.transport_mode
ORDER BY occupancy_percentage ASC;
```

**Task 9.Find out the booking efficiency.**
```sql
SELECT  
SUM(CASE WHEN payment_status = 'Successful' THEN 1 ELSE 0 END)
AS successful_confirmed
FROM payments;


SELECT
           (refunded + canceled + no_show)  * 100.0 / (booked + refunded + canceled + no_show)  AS efficiency_percentage_of_booking

FROM (
    SELECT   
        SUM(CASE WHEN booking_status = 'Confirmed' THEN 1 ELSE 0 END) AS booked,
        SUM(CASE WHEN booking_status = 'Refunded' THEN 1 ELSE 0 END) AS refunded,
        SUM(CASE WHEN booking_status = 'Canceled' THEN 1 ELSE 0 END) AS canceled,
        SUM(CASE WHEN booking_status = 'No-Show' THEN 1 ELSE 0 END) AS no_show
	
    
    FROM bookings_information
) AS summary;
```

**Task 10. What is the average ticket price per customer segment (age, gender, nationality)?**
```sql
SELECT
	 	Case
		     WHEN age BETWEEN 0 AND 17 THEN 'Under-18'
		     WHEN age BETWEEN 18 AND 25 THEN 'Yong'
			 WHEN age BETWEEN 26 AND 50 THEN 'Middle AGE'
			 ELSE 'Senior Citizen' 
			 END AS age_group,
		     gender,
			 nationality,
			 AVG(BI.total_fare_usd)
FROM passengers_information PI
INNER JOIN
bookings_information BI
ON 
PI.passenger_id = BI.passenger_id
GROUP BY gender,age_group, nationality
ORDER BY nationality;
```







































































